<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body {
    font-family: Arial, sans-serif;
    background: #f0f8ff;
    text-align: center;
    padding-top: 50px;
}
form input, select, button {
    padding: 10px;
    margin: 5px;
    font-size: 16px;
}

    </style>
</head>
<body>
    <form method="POST">
            <input type="text" name="name" placeholder="Enter your name" required />
            <select name="emoji">
            </select>
            <button type="submit">Greet Me</button>
        </form>
        <script>
            let form=document.querySelector('form');
            let select=document.querySelector('select');
            
            const getData=async()=>{
                const response=await fetch('http://localhost:3000/emojies');
                const data=await  response.json();
                data.forEach(emoji=>{
                    let option=document.createElement('option');
                    option.value=emoji;
                    option.textContent=emoji;
                    select.appendChild(option);
                });

            };
            getData();
            form.addEventListener('submit',async(e)=>{
                e.preventDefault();
                let dataform= await new FormData(form);
                const vazer=Object.fromEntries(dataform.entries()); 
                const postData=await fetch('http://localhost:3000/emojies/greet',{
                    method: 'POST',
                   headers: {
                'Content-Type': 'application/json' // specify JSON
            },
            body: JSON.stringify(vazer)
                });
                  const response=await postData.json();
            alert(JSON.stringify(response));
            });
          
        </script>
</body>
</html>