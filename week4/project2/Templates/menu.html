<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Restaurant Menu</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.2/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100 p-6">
  <h1 class="text-3xl font-bold mb-4">Restaurant Menu</h1>

  <a href="/add" class="bg-green-600 text-white px-4 py-2 rounded mb-4 inline-block">Add New Item</a>

  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      {% for category, message in messages %}
        <div class="mb-2 p-2 rounded {{ 'bg-red-200 text-red-800' if category=='red' else 'bg-green-200 text-green-800' }}">
          {{ message }}
        </div>
      {% endfor %}
    {% endif %}
  {% endwith %}

  <table class="min-w-full bg-white shadow rounded">
    <thead>
      <tr>
        <th class="py-2 px-4 border-b">ID</th>
        <th class="py-2 px-4 border-b">Name</th>
        <th class="py-2 px-4 border-b">Price</th>
        <th class="py-2 px-4 border-b">Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for item in items %}
      <tr>
        <td class="py-2 px-4 border-b">{{ item[0] }}</td>
        <td class="py-2 px-4 border-b">{{ item[1] }}</td>
        <td class="py-2 px-4 border-b">${{ item[2] }}</td>
        <td class="py-2 px-4 border-b flex gap-2">
          <a href="/update/{{ item[0] }}" class="bg-blue-600 text-white px-3 py-1 rounded">Update</a>
          <form action="/delete/{{ item[0] }}" method="POST">
            <button type="submit" class="bg-red-600 text-white px-3 py-1 rounded">Delete</button>
          </form>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</body>
</html>
